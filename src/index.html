<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Chareice's Blog</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="description" content="技术成就梦想">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>
  <div id="app" class="row"></div>
  <script>
    var hash = "",
        key = hash + 'app.js',
        url = '/assets/' + key,
        content = localStorage.getItem(key),
        setScriptTag = function(content){
          var script_tag = document.createElement('script');
          script_tag.type = 'text/javascript';
          script_tag.text = content;
          document.body.appendChild(script_tag);
        };
    if(!content || hash == ""){
      var xhr = new XMLHttpRequest();
      xhr.open("GET", url, true);
      xhr.addEventListener("load", function (evt) {
        if (xhr.status === 200) {
          var scriptContent = evt.target.responseText;
          setScriptTag(scriptContent);
          localStorage.setItem(key, scriptContent);
        }
      }, false);
      xhr.send();
    }else{
      setScriptTag(content);
    }
  </script>
</body>
</html>
